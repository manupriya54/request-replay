---
- request:
    method: POST
    url: /v1/charges
    headers:
      Accept: "*/*; q=0.5, application/xml"
      Accept-Encoding: gzip, deflate
      User-Agent: Stripe/v1 RubyBindings/1.23.0
      Authorization: Bearer sk_test_xOEwT736mUYLIx7hs0xTiCkI
      Content-Type: application/x-www-form-urlencoded
      X-Stripe-Client-User-Agent: '{"bindings_version":"1.23.0","lang":"ruby","lang_version":"2.1.2 p95 (2014-05-08)","platform":"x86_64-linux","engine":"ruby","publisher":"stripe","uname":"Linux version 3.13.0-57-generic (buildd@brownie) (gcc version 4.8.2 (Ubuntu 4.8.2-19ubuntu1) ) #95-Ubuntu SMP Fri Jun 19 09:28:15 UTC 2015","hostname":"caron"}'
      Host: api.stripe.com
    body: |
      amount=123&currency=usd&card[number]=4242424242424242&card[exp_month]=12&card[exp_year]=2020
  response:
    code: 200 OK
    headers:
      Server: nginx
      Date: Mon, 27 Jul 2015 06:13:27 GMT
      Content-Type: application/json
      Content-Length: '1422'
      Connection: keep-alive
      Access-Control-Allow-Credentials: 'true'
      Access-Control-Allow-Methods: GET, POST, HEAD, OPTIONS, DELETE
      Access-Control-Allow-Origin: "*"
      Access-Control-Max-Age: 300
      Cache-Control: no-cache, no-store
      Request-Id: req_6gRlC0rhQIk5Yd
      Stripe-Version: 2015-07-13
      Strict-Transport-Security: max-age=31556926; includeSubDomains
    body: |
      {
        "id": "ch_16T4rbKv5xscqGyhn5hjrRKD",
        "object": "charge",
        "created": 1437977607,
        "livemode": false,
        "paid": true,
        "status": "succeeded",
        "amount": 123,
        "currency": "usd",
        "refunded": false,
        "source": {
          "id": "card_16T4rbKv5xscqGyhIHgZKFXK",
          "object": "card",
          "last4": "4242",
          "brand": "Visa",
          "funding": "credit",
          "exp_month": 12,
          "exp_year": 2020,
          "fingerprint": "70RrlzfthHpu3e4l",
          "country": "US",
          "name": null,
          "address_line1": null,
          "address_line2": null,
          "address_city": null,
          "address_state": null,
          "address_zip": null,
          "address_country": null,
          "cvc_check": null,
          "address_line1_check": null,
          "address_zip_check": null,
          "tokenization_method": null,
          "dynamic_last4": null,
          "metadata": {},
          "customer": null
        },
        "captured": true,
        "balance_transaction": "txn_16T4rbKv5xscqGyheVr5De3F",
        "failure_message": null,
        "failure_code": null,
        "amount_refunded": 0,
        "customer": null,
        "invoice": null,
        "description": null,
        "dispute": null,
        "metadata": {},
        "statement_descriptor": null,
        "fraud_details": {},
        "receipt_email": null,
        "receipt_number": null,
        "shipping": null,
        "destination": null,
        "application_fee": null,
        "refunds": {
          "object": "list",
          "total_count": 0,
          "has_more": false,
          "url": "/v1/charges/ch_16T4rbKv5xscqGyhn5hjrRKD/refunds",
          "data": []
        }
      }
- request:
    method: POST
    url: /v1/charges/ch_16T4rbKv5xscqGyhn5hjrRKD/refunds
    headers:
      Accept: "*/*; q=0.5, application/xml"
      Accept-Encoding: gzip, deflate
      User-Agent: Stripe/v1 RubyBindings/1.23.0
      Authorization: Bearer sk_test_xOEwT736mUYLIx7hs0xTiCkI
      Content-Type: application/x-www-form-urlencoded
      X-Stripe-Client-User-Agent: '{"bindings_version":"1.23.0","lang":"ruby","lang_version":"2.1.2 p95 (2014-05-08)","platform":"x86_64-linux","engine":"ruby","publisher":"stripe","uname":"Linux version 3.13.0-57-generic (buildd@brownie) (gcc version 4.8.2 (Ubuntu 4.8.2-19ubuntu1) ) #95-Ubuntu SMP Fri Jun 19 09:28:15 UTC 2015","hostname":"caron"}'
      Host: api.stripe.com
    body: null
  response:
    code: 200 OK
    headers:
      Server: nginx
      Date: Mon, 27 Jul 2015 06:19:15 GMT
      Content-Type: application/json
      Content-Length: '289'
      Connection: keep-alive
      Access-Control-Allow-Credentials: 'true'
      Access-Control-Allow-Methods: GET, POST, HEAD, OPTIONS, DELETE
      Access-Control-Allow-Origin: "*"
      Access-Control-Max-Age: 300
      Cache-Control: no-cache, no-store
      Request-Id: req_6gRqvHN14yfbEJ
      Stripe-Version: 2015-07-13
      Strict-Transport-Security: max-age=31556926; includeSubDomains
    body: |
      {
        "id": "re_16T4xDKv5xscqGyhpbBD4Ssq",
        "amount": 123,
        "currency": "usd",
        "created": 1437977955,
        "object": "refund",
        "balance_transaction": "txn_16T4xDKv5xscqGyhC5Fv259t",
        "metadata": {},
        "charge": "ch_16T4rbKv5xscqGyhn5hjrRKD",
        "receipt_number": null,
        "reason": null
      }
